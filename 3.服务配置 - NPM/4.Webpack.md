# Webpack
***

## 安装
* 网络环境：开启全局SS（安装完后记得关闭全局SS，否则 localhost 将被重定向，造成本地服务无法访问）
* 全局安装：`$ sudo npm install -g webpack`
* 所在目录安装：`$ sudo npm install webpack`

## 配置
* 前目录下增加 `webpack.config.js` 文件
```javascript
// 示例
module.exports = {
  entry: "./entry.js", // 入口文件
  output: {
    path: __dirname,
    filename: "bundle.js" // 输出文件
  },
  module: {
    loaders: [
      { test: /\.css$/, loader: "style!css" }
    ]
  }
};
```

## 打包编译
* 打包指令：`$ webpack`
* 其他说明：
    * 展示打包进度条：`$ webpack --progress`
    * 展示打包颜色：`$ webpack --colors`
    * 监控模式：`$ webpack --watch`

## 开发服务器(在开发环境使用)
* 安装：`$ sudo npm install webpack-dev-server -g`
* 开启监听打包服务器（实时在内存中编译打包静态资源）：
    * 开启一个新进程
    * 进入项目所在根目录
    * 指令：`$ webpack-dev-server --progress --content-base assets/` 其中：`assets/` 为webpack打包输出的静态资源所在目录
    * 将html中引起的文件地址改为内存中的静态资源地址：`http://localhost:8080/foo.css`
* 开启监听刷新服务器（实时刷新服务器上的网页）：
    * 开启一个新进程
    * 进入项目所在根目录
    * 指令：`$ webpack-dev-server --progress --port 9090` 该服务器的端口号设置为9090
    * 访问该地址：`http://localhost:9090/webpack-dev-server/`
* 注释：
    * 开发服务器中编译打包的静态文件只在内存中，如果需要在生产环境中使用，则依然需要执行 `webpack` 打包指令
    * 使用开发服务器时，不要使用VPN、SS等工具，会造成`loaclhost`被重定向
